"$schema" = 'https://starship.rs/config-schema.json'
# The way that this works is complicated: the gruvbox preset complicates things, as it set a
# particular background color for an area. Modules expect to be on a "transparant" background, so if
# you add a module to the statusbar, then you get intermitted black in the statusbar. So you always
# need to set the background color of the area where the module is shown.

# How to enable a module?
# 1. put it into the format string in the spot you want (the top level format string that contains
#    all the modules, like $username, $hostname, etc.
# 2. set the style to the foreground/background of the area you put the module in
# 3. copy over the format string, and adjust the colors of the specific parts of the format so it
#    looks nice in the bar. ensure that the entire format string is embedded in the statusbar color,
#    hence "[ ...]($style)" , where style is for example: fg:color_foreground bg:color_yellow

palette = 'gruvbox_dark'

format = """
$all\
[ÓÇ∂](fg:color_yellow)\
$os\
$username\
$hostname\
$shlvl\
[ÓÇ∞](fg:color_yellow bg:color_orange)\
$directory\
[ÓÇ∞](fg:color_orange bg:color_aqua)\
$git_branch\
$git_commit\
$git_status\
$git_metrics\
[ÓÇ∞](fg:color_aqua bg:color_blue)\
$golang\
$helm\
$terraform\
$direnv\
[ÓÇ∞](fg:color_blue bg:color_gray)\
$kubernetes\
[ÓÇ∞](fg:color_gray bg:color_gray_dark)\
$time\
$cmd_duration\
[ÓÇ¥ ](fg:color_gray_dark)\
$line_break\
$status\
$character"""

[palettes.gruvbox_dark]
color_foreground = '#ffffff'
color_orange = '#d65d0e'
color_yellow = '#d79921'
color_aqua = '#689d6a'
color_blue = '#458588'
color_gray = '#665c54'
color_gray_dark = '#3c3836'
color_red_dark = '#f50808'

[os]
disabled = false
# styling: just follow the styling of the bar
style = "fg:color_foreground bg:color_yellow"
format = "[ $symbol ]($style)"

[username]
show_always = true
# styling: override the foreground for root to dark red
style_user = "fg:color_foreground bg:color_yellow"
style_root = "fg:color_red_dark bold bg:color_yellow"
format = '[$user]($style)'

[hostname]
ssh_only = false
style = "fg:color_foreground bg:color_yellow"
format = "[@$hostname$ssh_symbol ]($style)"
ssh_symbol ="üåê"

[shlvl]
disabled = false
style = "fg:color_foreground bg:color_yellow"
format = '[$symbol$shlvl ]($style)'

[directory]
style = "fg:color_foreground bg:color_orange"
format = "[ $path $read_only]($style)"
truncation_length = 3
truncation_symbol = "‚Ä¶/"

[git_branch]
style = "fg:color_foreground bg:color_aqua"
format = "[ $symbol$branch(:$remote_branch) ]($style)"

[git_commit]
only_detached = false
style = "fg:green bg:color_aqua"
format = '[\($hash$tag\) ]($style)'

[git_status]
style = "fg:color_foreground bg:color_aqua"
format = '([\[$all_status$ahead_behind\] ]($style))'

[git_metrics]
disabled = false
added_style = "fg:green bold bg:color_aqua"
deleted_style = "fg:red bold bg:color_aqua"
format = '([+$added ]($added_style))([-$deleted ]($deleted_style))'

[golang]
style = "fg:color_foreground bg:color_blue"
format = '[ $symbol($version)]($style)'

[helm]
style = "fg:color_foreground bg:color_blue"
format = '[ $symbol($version) ]($style)'

[terraform]
style = "fg:color_foreground bg:color_blue"
format = '[ $symbol$workspace]($style)'

[direnv]
disabled = false
style = "fg:color_foreground bg:color_blue"
format = '[ \($symbol$loaded/$allowed\) ]($style)'

[kubernetes]
disabled = false
# Only enable this module when we're in a "kubbie" shell, when we're not, the dummy context is
# selected (no kubectl doesn't work), and the prompt should reflect that.
detect_env_vars = [ "KUBIE_KUBECONFIG" ]
symbol = "‚õµ"
format = '[ $symbol $context( \($namespace\)) ]($style)'
style = "fg:color_foreground bg:color_gray"

[[kubernetes.contexts]]
# styling: detect prod clusters, and mark with big red signs, and colors
symbol = "‚ÄºÔ∏è"
context_pattern = ".*prod.*"
style = "fg:red bold bg:color_gray"

[time]
disabled = false
time_format = "%R"
format = '[ Ôê∫ $time ]($style)'
# styling: just follow the styling of the bar
style = "fg:color_foreground bg:color_gray_dark"

[cmd_duration]
min_time = 5_000
format = "[ $duration ]($style)"
style = "fg:color_foreground bold bg:color_gray_dark"

[status]
disabled = false
map_symbol = true
pipestatus = true
format = '[$symbol $status <$common_meaning>]($style) '

# Just some modules that are enabled by default, and I want disabled

[nodejs]
disabled = true

[gcloud]
disabled = true

[package]
disabled = true

# Icon lists

[directory.substitutions]
"Documents" = "Û∞àô "
"Downloads" = "ÔÄô "
"Music" = "Û∞ùö "
"Pictures" = "ÔÄæ "
"Developer" = "Û∞≤ã "

"src" = "Û∞Ö©"
"private" = "ÔÄÑ"
"homeops" = "ÔÄï"
"guida" = "Û∞Üã"

[os.symbols]
Windows = "Û∞ç≤"
Ubuntu = "Û∞ïà"
SUSE = "Ôåî"
Raspbian = "Û∞êø"
Mint = "Û∞£≠"
Macos = "Û∞Äµ"
Manjaro = "Ôåí"
Linux = "Û∞åΩ"
Gentoo = "Û∞£®"
Fedora = "Û∞£õ"
Alpine = "ÔåÄ"
Amazon = "Ôâ∞"
Android = "Óúé"
Arch = "Û∞£á"
Artix = "Û∞£á"
EndeavourOS = "ÔÜó"
CentOS = "ÔåÑ"
Debian = "Û∞£ö"
Redhat = "Û±Ñõ"
RedHatEnterprise = "Û±Ñõ"
Pop = "Ôå™"
