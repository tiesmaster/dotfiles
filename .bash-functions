# .bash-functions
# vim:filetype=sh

# sysadmin stuff
grab() {
    sudo chown ${USER} --recursive ${1:-.}
}

mkex () {
# make and edit a new script file
	touch $1
	chmod +x $1
	gvim $1
}

# ftd stuff
grepftd () {
	ftd4linux_console -l |awk -F'\t' "BEGIN{IGNORECASE=1} \$8 ~ /$1/ {print \$0}"
}

grepftdalles () {
	ftd4linux_console -a0 -l |awk -F'\t' "BEGIN{IGNORECASE=1} \$8 ~ /$1/ {print \$0}"
}

xes () {
# xes SERVER: make a new terminal (async) and ssh to host SERVER
	xterm -e ssh $1 &
}

mktar() {
#mktar: make a bzip2 tar of $1, removes a trailing slash (so it won't ends up in
#the name)
    tar jcvf "${1%%/}.tbz2" "${1%%/}/"
}

showebuild() {
# showebuild: show the latest ebuild for a particular package, using eix
	eix ${1} --format "/usr/portage/<category>/<name>/<name>-<best>.ebuild"
}

sgrep() {
	sed -n "s/$1/&/p" $2
}

isgrep() {
	PATTERN=$1
	shift 1
	sed -n "s/$PATTERN/&/pi" $@
}
